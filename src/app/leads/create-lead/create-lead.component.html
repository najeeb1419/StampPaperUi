<div class="create-leads-container">
    <div class="new-leads-layout">
        <div class="new-lead-title">
            <span class="title" routerLink="/">Dashboard</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="" d="m14.83 11.29l-4.24-4.24a1 1 0 0 0-1.42 0a1 1 0 0 0 0 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41a1 1 0 0 0 .71.29a1 1 0 0 0 .71-.29l4.24-4.24a1 1 0 0 0 0-1.42Z"/></svg>
            <span class="new-lead-content">New Lead</span>
        </div>
        <div class="create-form-start">
            <div class="form-title">
                <span>Profile</span>
            </div>
            <div class="form-container">
                <div id="create-lead">
                    <form [formGroup]="createLeadFrom" (ngSubmit)="onSubmit()">
                        <div class="row">
                            <div class="col-4">
                                <div class="new-lead-input">
                                    <label for="Status">Status</label>
                                    <select formControlName="leadStatusId" id="status">
                                      <option [value]='null'>... select status ..</option>
                                      <option [value]='st.value' *ngFor="let st of leadStatus">{{st.label}}</option>
                                      <option [value]='0'>Other</option>
                                    </select>
                                    <div *ngIf="createLeadFrom.get('leadStatusId')?.invalid && createLeadFrom.get('leadStatusId')?.touched" class="error-message">
                                        Please select a status.
                                      </div>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="new-lead-input">
                                    <label for="Source">Source</label>
                                    <select formControlName="leadSourceId" id="source">
                                        <option [value]='null'>... select source ..</option>
                                        <option [value]='st.value' *ngFor="let st of sources">{{st.label}}</option>
                                        <option [value]='0'>Other</option>
                                    </select>
                                    <div *ngIf="createLeadFrom.get('leadSourceId')?.invalid && createLeadFrom.get('leadSourceId')?.touched" class="error-message">
                                        Please select a source.
                                      </div>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="new-lead-input">
                                    <label for="Assigned">Assigned</label>
                                    <select formControlName="assignedId" id="Assigned">
                                        <option value='null'></option>
                                        <option [value]='st.value' *ngFor="let st of CompanyUserList">{{st.label}}</option>
                                    </select>
                                    <div *ngIf="createLeadFrom.get('assignedId')?.invalid && createLeadFrom.get('assignedId')?.touched" class="error-message">
                                        Please select a Assigned.
                                      </div>
                                </div>
                            </div>
                        </div>
                        <div class="others row pt-5 pb-2">
                            <div class="col-4">
                                <div *ngIf="createLeadFrom.get('leadStatusId')?.value ==0">
                                    <form  [formGroup]="newStatusForm" (ngSubmit)="LeadStatusSubmit()">
                                        <div class="new-lead-input">
                                            <label for="name">New Status</label>
                                            <input type="text" formControlName="name" id="name" >
                                        </div>
                                        <div class="submit">
                                            <button type="submit">Save</button>
                                        </div>
                                    </form>
                                    
                                </div>
                            </div>
                            <div class="col-4">
                                <div *ngIf="createLeadFrom.get('leadSourceId')?.value ==0">
                                    <form  [formGroup]="newSourceForm" (ngSubmit)="LeadSourceSubmit()">
                                        <div class="new-lead-input">
                                            <label for="name">New Source</label>
                                            <input type="text" formControlName="name" id="name" >
                                        </div>
                                        <div class="submit">
                                            <button type="submit">Save</button>
                                        </div>
                                    </form>
                                    
                                </div>
                            </div>
                        </div>
                        <div class="form-center">
                            <div class="row">
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="name">Name</label>
                                        <input type="text" formControlName="name" id="name" value="name">

                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="Position">Position</label>
                                        <input type="text" formControlName="position" id="position">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="Address">Address</label>
                                        <input type="text" formControlName="address" id="address">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="country">Country</label>
                                        <select formControlName="countryId" id="country" (change)="onCountryChange()">
                                            <option [value]=''>... select source ..</option>
                                            <option [value]=st.id *ngFor="let st of Countries">{{st.name}}</option>
                                        </select>
                                                
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="City">City</label>
                                        <select formControlName="cityId" id="city" >
                                            <option [value]='null'>... select City ..</option>
                                            <option [value]='st.value' *ngFor="let st of CitiesList">{{st.label}}</option>
                                            <option [value]='0'>Other</option>
                                        </select>
                                       
                                          <div *ngIf="createLeadFrom.get('cityId')?.invalid && createLeadFrom.get('cityId')?.touched" class="error-message">
                                            Please select a Country.
                                          </div>
                                    </div>
                                </div>
                              
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="state">State</label>
                                        <input type="text" formControlName="state" id="state">
                                    </div>
                                </div>
                                <div class="others row pt-5 pb-2" *ngIf="createLeadFrom.get('cityId')?.value ==0">
                                    <div class="col-4">
                                      
                                    </div>
                                    <div class="col-4">
                                        <div *ngIf="createLeadFrom.get('cityId')?.value ==0">
                                            <form  [formGroup]="newCityForm" (ngSubmit)="SubmitCity()">
                                                <div class="new-lead-input">
                                                    <label for="name">New City</label>
                                                    <input type="text" formControlName="name" id="name" >
                                                </div>
                                                <div class="submit">
                                                    <button type="submit">Save</button>
                                                </div>
                                            </form>
                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="website">Website</label>
                                        <input type="url" formControlName="website" id="website">
                                    </div>
                                </div>
                        
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="Email Address">Email Address</label>
                                        <input type="email" formControlName="emailAddress" id="email">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="Phone">Phone</label>
                                        <input type="tel" formControlName="phoneNo" id="phone">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="zip-code">Zip Code</label>
                                        <input type="text" formControlName="zipCode" id="zip-code">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="company">Company</label>
                                        <input type="text" formControlName="company" id="company">
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="new-lead-input">
                                        <label for="description">Description</label>
                                        <textarea rows="4" cols="50" formControlName="description"></textarea>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="checkboxes d-flex">
                                        <div class="new-lead-checkbox">
                                            <input type="checkbox" formControlName="publicLead" id="public">
                                            <label class="checkbox-label" for="Public">Public</label>
                                        </div>
                                        <div class="new-lead-checkbox">
                                            <input type="checkbox" formControlName="contactedToday" id="contacted-today">
                                            <label class="checkbox-label" for="Contacted Today">Contacted Today</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="IBO Business ID">IBO Business ID</label>
                                        <input type="text" formControlName="iBOBussinessType" id="ibo-business-id">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="Business Type">Business Type</label>
                                        <select formControlName="businessTypeId" id="business-type">
                                            <option [value]=undefined>... select status ..</option>
                                            <option [value]=st.value *ngFor="let st of BusinessTypeList">{{st.label}}</option>
                                            <option [value]=0>Other</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="Business Number">Business Number</label>
                                        <input type="tel" formControlName="businessNo" id="business-number">
                                    </div>
                                </div>

                                <div class="others row pt-5 pb-2" *ngIf="createLeadFrom.get('businessTypeId')?.value ==0">
                                    <div class="col-4">
                                      
                                    </div>
                                    <div class="col-4">
                                        <div *ngIf="createLeadFrom.get('businessTypeId')?.value ==0">
                                            <form  [formGroup]="BusinessTypeForm" (ngSubmit)="BusinessTypeSubmit()">
                                                <div class="new-lead-input">
                                                    <label for="name">New businessType</label>
                                                    <input type="text" formControlName="name" id="name" >
                                                </div>
                                                <div class="submit">
                                                    <button type="submit">Save</button>
                                                </div>
                                            </form>
                                            
                                        </div>
                                    </div>
                                </div>

                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="iBO Email Address">IBO Email Address</label>
                                        <input type="text" formControlName="iBOEmailAddress" id="iBO-Email-Address">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="seconday Phone No">Secondary Phone No</label>
                                        <input type="text" formControlName="secondayPhoneNo" id="seconday-Phone-No">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="Preferred Language">Preferred Language</label>
                                        <select formControlName="languageId" id="business-type">
                                            <option [value]=undefined>... select Language ..</option>
                                            <option [value]=st.value *ngFor="let st of Languages">{{st.label}}</option>
                                            <option [value]=0>Other</option>
                                        </select>
                                    </div>
                                </div> 
                                <div class="others row pt-5 pb-2" *ngIf="createLeadFrom.get('languageId')?.value ==0">
                                    <div class="col-4">
                                      
                                    </div>
                                    <div class="col-4">
                                      
                                    </div>
                                    <div class="col-4">
                                        <div *ngIf="createLeadFrom.get('languageId')?.value ==0">
                                            <form  [formGroup]="NewLanguageForm" (ngSubmit)="AddLanguageSubmit()">
                                                <div class="new-lead-input">
                                                    <label for="name">New Language</label>
                                                    <input type="text" formControlName="name" id="name" >
                                                </div>
                                                <div class="submit">
                                                    <button type="submit">Save</button>
                                                </div>
                                            </form>
                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="new-lead-input">
                                        <label for="Referred">Referred by</label>
                                        <input type="text" formControlName="referredBy" id="Referred">
                                    </div>
                                </div>
                                <div class="col-8">
                                    <div class="new-lead-input">
                                        <label for="Preferred Time for Callback">Preferred Time for Callback</label>
                                        <select formControlName="preferredTimeForCallBackId" id="business-type">
                                            <option [value]=undefined>... select status ..</option>
                                            <option [value]=st.value *ngFor="let st of PreferredTimeCallBackList">{{st.label}}</option>
                                            <option [value]=0>Other</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="others row pt-5 pb-2" *ngIf="createLeadFrom.get('preferredTimeForCallBackId')?.value =='0'">
                                  
                                    <div class="col-4">
                                        <div *ngIf="createLeadFrom.get('preferredTimeForCallBackId')?.value ==0">
                                            <form  [formGroup]="PreferredTimeCallBackForm" (ngSubmit)="PreferredTimeCallBackSubmit()">
                                                <div class="new-lead-input">
                                                    <label for="name">Enter Preferred TimeCall Back</label>
                                                    <input type="text" formControlName="name" id="name" >
                                                </div>
                                                <div class="submit">
                                                    <button type="submit">Save</button>
                                                </div>
                                            </form>
                                            
                                        </div>
                                    </div>
                                </div>
                

                             
                                <div class="col-12">
                                    <div class="form-title">
                                        <span>Services</span>
                                    </div>
                                </div>
                            </div>
               
                            <div class="services-checkboxes">
                                <div class="checkboxes">
                                   
                                     <div class="new-lead-checkbox " formArrayName="leadProfileServices"  *ngFor="let order of LeadServices.controls; let i = index">
                                        <input type="checkbox" formControlName="{{i}}" id="graphic-design" (change)="updateName($event , checkboxLabels[i].value)" >
                                        <label class="Graphic Design" for="Public"> {{checkboxLabels[i].label}} </label>
                                     </div>
                           
                                </div>
                                <div class="checkboxes checkbox-inner d-flex">
                                    <div class="new-lead-checkbox new-lead-checkbox-5">
                                        <input type="checkbox" formControlName="confirmRequestAuthorization" id="confirm">
                                        <label class="Graphic Design" for="I confirm that I am authorised to request a quote on behalf of this business.">I confirm that I am authorised to request a quote on behalf of this business.</label>
                                    </div>
                                </div> 
                            </div>
                        </div>
                        <div class="new-lead-buttons">
                            <div class="cancel">
                                <button>Cancel</button>
                            </div>
                            <div class="submit">
                                <button type="submit">Save</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>